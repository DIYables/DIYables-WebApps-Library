#ifndef WEB_ROTATOR_HTML_H
#define WEB_ROTATOR_HTML_H

const char WEB_ROTATOR_HTML[] PROGMEM = R"HTMLDELIM(<!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Remote Rotator - DIYables WebApp</title><link rel="icon" href="https://diyables.io/images/page/diyables.svg"><style>*{margin:0;padding:0;box-sizing:border-box;}body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;background:white;height:100vh;margin:0;padding:0;display:flex;flex-direction:column;box-sizing:border-box;}.a{background:white;border-radius:0;box-shadow:none;width:100%;flex:1;max-width:1200px;margin:0 auto;text-align:center;display:flex;flex-direction:column;justify-content:flex-start;box-sizing:border-box;overflow:hidden;}.b{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:white;padding:25px;text-align:center;position:relative;}.b h1{font-size:2.0em;margin-bottom:5px;}.b p{font-size:1.0em;opacity:0.9;}.c{background:#f8f9fa;padding:10px 20px;border-bottom:1px solid #e9ecef;display:flex;justify-content:space-between;align-items:center;}.d{color:#667eea;text-decoration:none;font-size:1.1em;font-weight:bold;transition:all 0.3s;padding:8px 12px;border-radius:6px;background:rgba(102,126,234,0.1);}.d:hover{background:rgba(102,126,234,0.2);transform:scale(1.05);}.e{color:#007bff;text-decoration:none;font-size:1.0em;font-weight:bold;transition:all 0.3s;padding:8px 12px;border-radius:6px;background:rgba(0,123,255,0.1);}.e:hover{background:rgba(0,123,255,0.2);transform:scale(1.05);}.f{background:#f8f9fa;padding:5px 20px;border-bottom:1px solid #e9ecef;text-align:center;font-size:0.9em;color:black;}.f #connectionText{font-weight:bold;}.g{padding:40px;margin-bottom:30px;display:flex;flex-direction:column;align-items:center;gap:30px;}.h{display:flex;flex-direction:column;align-items:center;gap:20px;}.i{width:300px;height:300px;border-radius:50%;background:conic-gradient(#4f46e5 0% 25%,#16a34a 25% 50%,#ef4444 50% 75%,#facc15 75% 100%);box-shadow:0 10px 30px rgba(0,0,0,0.2);cursor:grab;transition:box-shadow 0.2s ease;position:relative;border:3px solid #fff;}.i:active{cursor:grabbing;box-shadow:0 10px 40px rgba(0,0,0,0.3);}.i::before{content:'';position:absolute;top:10px;left:50%;transform:translateX(-50%);width:4px;height:20px;background:#fff;border-radius:2px;box-shadow:0 2px 5px rgba(0,0,0,0.3);}.j{display:flex;flex-direction:column;align-items:center;gap:10px;}.k{font-size:2.5em;font-weight:700;color:#2D3748;font-family:'Courier New',monospace;}.l{display:flex;flex-wrap:wrap;justify-content:center;gap:20px;margin-top:20px;}.m{background:white;padding:15px 20px;border-radius:15px;box-shadow:0 2px 10px rgba(0,0,0,0.1);border:1px solid #e2e8f0;min-width:120px;}.n{font-size:0.9em;color:#718096;margin-bottom:5px;}.o{font-size:1.2em;font-weight:600;color:#2D3748;}@media (max-width:768px){.b h1{font-size:1.6em;}.g{flex-direction:column;gap:20px;padding:20px;}.l{flex-direction:row;flex-wrap:wrap;gap:8px;justify-content:center;}.m{min-width:auto;flex:1;max-width:none;padding:10px 12px;white-space:nowrap;}.n{font-size:0.8em;margin-bottom:3px;}.o{font-size:0.9em;white-space:nowrap;}.i{width:250px;height:250px;}.k{font-size:2em;}.p{height:50px;padding:10px 15px;font-size:0.8em;}}.p{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:white;text-align:center;padding:15px 20px;width:100%;font-size:0.9em;border-top:1px solid rgba(255,255,255,0.1);position:fixed;bottom:0;left:0;z-index:1000;height:40px;box-sizing:border-box;display:flex;align-items:center;justify-content:center;}.p a{color:white;text-decoration:none;font-weight:bold;transition:all 0.3s ease;}.p a:hover{color:rgba(255,255,255,0.8);text-decoration:underline;}</style></head><body><div class="a"><div class="c"><a href="/" class="d">üè† Home</a><a href="https://diyables.io/webapps-r4" target="_blank" class="e">üìö Tutorial</a></div><div class="f" id="websocketStatus">WebSocket: <span id="connectionText">Disconnected</span></div><div class="b"><h1>üîÑ Remote Rotator</h1><p>Interactive rotatable disc real-time control</p></div><div style="flex: 1;"><div class="g"><div class="h"><div class="i" id="disc"></div><div class="j"><div class="k" id="angle-label">0¬∞</div></div></div><div class="l"><div class="m"><div class="n">Mode</div><div class="o" id="mode-display">Continuous</div></div><div class="m" id="angle-range-item" style="display: none;"><div class="n">Angle Range</div><div class="o" id="angle-range">0¬∞ - 180¬∞</div></div></div></div></div></div><script>const A=document.getElementById('disc');const B=document.getElementById('angle-label');const C=document.getElementById('mode-display');const D=document.getElementById('angle-range-item');const E=document.getElementById('angle-range');let F=false;let G=null;let H=0;let I=0;let J=null;let K=0;let L=0;let M=360;let N=null;function r(x,y){const O=x-G.x;const P=y-G.y;return Math.atan2(P,O)*(180/Math.PI);}function s(Q){const R=Math.round(Q);B.textContent=`${R}¬∞`;A.style.transform=`rotate(${Q}deg)`;}function t(){if(K===1){C.textContent='Limited';D.style.display='block';E.textContent=`${L}¬∞-${M}¬∞`;}else{C.textContent='Continuous';D.style.display='none';}}function u(Q){if(K===1){if(Q<L) return L;if(Q>M) return M;}return Q;}function v(Q){if(N&&N.readyState===WebSocket.OPEN){N.send(`ROTATOR:${Q.toFixed(1)}`);}}A.addEventListener('mousedown',e=>{F=true;const S=A.getBoundingClientRect();G={x:S.left+S.width/2,y:S.top+S.height/2};J=r(e.clientX,e.clientY);});window.addEventListener('mousemove',e=>{if(!F) return;const Q=r(e.clientX,e.clientY);if(J!==null){let T=Q-J;if(T>180) T-=360;if(T<-180) T+=360;let U=I+T;U=u(U);if(U!==I){I=U;s(I);v(I);}}J=Q;});window.addEventListener('mouseup',()=>{F=false;J=null;});A.addEventListener('touchstart',e=>{e.preventDefault();F=true;const S=A.getBoundingClientRect();G={x:S.left+S.width/2,y:S.top+S.height/2};const V=e.touches[0];J=r(V.clientX,V.clientY);},{passive:false});window.addEventListener('touchmove',e=>{if(!F) return;e.preventDefault();const V=e.touches[0];const Q=r(V.clientX,V.clientY);if(J!==null){let T=Q-J;if(T>180) T-=360;if(T<-180) T+=360;let U=I+T;U=u(U);if(U!==I){I=U;s(I);v(I);}}J=Q;},{passive:false});window.addEventListener('touchend',()=>{F=false;J=null;});function w(W){const X=document.getElementById('connectionText');X.textContent=W;console.log('WebSocket '+W);if(W=='connected')X.style.color='#007bff';else if(W=='connecting')X.style.color='#6c757d';else X.style.color='#dc3545';}function z(){const Y=window.location.protocol==='https:'?'wss:':'ws:';const Z=`${Y}//${window.location.hostname}:81`;try{N=new WebSocket(Z);N.onopen=function(){w('connected');N.send('ROTATOR:GET_CONFIG');};N.onmessage=function(event){console.log('Received:',event.data);if(event.data.startsWith('ROTATOR:')){const a0=event.data.substring(8);if(a0.startsWith('CONFIG:')){const a1=a0.substring(7).split(',');if(a1.length===3){K=parseInt(a1[0]);L=parseFloat(a1[1]);M=parseFloat(a1[2]);t();}}else{const Q=parseFloat(a0);if(!isNaN(Q)){I=Q;s(I);}}}};N.onclose=function(){w('disconnected');setTimeout(z,3000);};N.onerror=function(a2){console.error('WebSocket a2:',a2);w('disconnected');};}catch(a2){console.error('WebSocket connection failed:',a2);w('disconnected');setTimeout(z,3000);}}w("connecting");t();setTimeout(z,500);document.addEventListener('visibilitychange',function(){if(!document.hidden&&(!N||N.readyState!==WebSocket.OPEN)){setTimeout(z,1000);}});</script><div class="p">Created by&nbsp;<a href="https://diyables.io/" target="_blank">DIYables</a></div></body></html>)HTMLDELIM";

#endif
