#ifndef WEB_MONITOR_HTML_H
#define WEB_MONITOR_HTML_H

const char WEB_MONITOR_HTML[] PROGMEM = R"HTMLDELIM(<!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Web Monitor - DIYables WebApp</title><link rel="icon" href="https://diyables.io/images/page/diyables.svg"><style>*{margin:0;padding:0;box-sizing:border-box;}body{font-family:'Consolas','Monaco','Courier New',monospace;background:#1e1e1e;color:#d4d4d4;height:100vh;display:flex;flex-direction:column;margin:0;padding:0 0 40px 0;}.a{background:#f8f9fa;padding:10px 20px;border-bottom:1px solid #3e3e42;display:flex;justify-content:space-between;align-items:center;}.b{color:#00d4ff !important;text-decoration:none;font-size:1.1em;font-weight:bold;transition:all 0.3s;padding:8px 12px;border-radius:6px;background:rgba(0,212,255,0.1);}.b:hover{background:rgba(0,212,255,0.2);transform:scale(1.05);color:#00d4ff !important;}.c{color:#007bff;text-decoration:none;font-size:1.0em;font-weight:bold;transition:all 0.3s;padding:8px 12px;border-radius:6px;background:rgba(0,123,255,0.1);}.c:hover{background:rgba(0,123,255,0.2);transform:scale(1.05);}.d{background:#2d2d30;padding:5px 20px;border-bottom:1px solid #3e3e42;text-align:center;font-size:0.9em;color:#d4d4d4;}.d #connectionText{font-weight:bold;}.e{background:#2d2d30;color:#d4d4d4;text-align:center;padding:15px 20px;width:100%;font-size:0.9em;border-top:1px solid #3e3e42;position:fixed;bottom:0;left:0;z-index:1000;height:40px;box-sizing:border-box;display:flex;align-items:center;justify-content:center;}.e a{color:#4fc1ff;text-decoration:none;font-weight:bold;transition:all 0.3s ease;}.e a:hover{color:#0e639c;text-decoration:underline;}.f{background:#2d2d30;padding:15px 20px;border-bottom:1px solid #3e3e42;display:flex;justify-content:space-between;align-items:center;}.f h1{font-size:2.0em;color:#4fc1ff;margin-bottom:5px;}.f p{font-size:1.0em;opacity:0.9;color:#d4d4d4;}.g{display:flex;gap:10px;align-items:center;}.h{background:#0e639c;color:white;border:none;padding:8px 16px;border-radius:4px;cursor:pointer;font-size:0.9em;transition:background 0.3s;}.h:hover{background:#1177bb;}.h.i{background:#dc3545;}.h.i:hover{background:#c82333;}.j{padding:5px 10px;border-radius:4px;font-size:0.8em;font-weight:bold;}.j.k{background:#28a745;color:white;}.j.l{background:#dc3545;color:white;}.m{flex:1;display:flex;flex-direction:column;overflow:hidden;}.n{flex:1;background:#1e1e1e;border:1px solid #3e3e42;margin:10px;border-radius:4px;overflow:hidden;display:flex;flex-direction:column;}.o{flex:1;padding:15px;overflow-y:auto;font-size:14px;line-height:1.4;white-space:pre-wrap;word-wrap:break-word;}.o::-webkit-scrollbar{width:8px;}.o::-webkit-scrollbar-track{background:#2d2d30;}.o::-webkit-scrollbar-thumb{background:#555;border-radius:4px;}.o::-webkit-scrollbar-thumb:hover{background:#777;}.p{margin-bottom:5px;padding:2px 0;}.p.q{color:#4fc1ff;}.p.r{color:#ffc107;}.p.s{color:#dc3545;}.p.t{color:#28a745;}.u{color:#6a6a6a;font-size:0.85em;margin-right:8px;}.v{border-top:1px solid #3e3e42;padding:15px;background:#252526;display:flex;gap:10px;}.w{flex:1;background:#3c3c3c;border:1px solid #555;border-radius:4px;padding:10px;color:#d4d4d4;font-family:inherit;font-size:14px;}.w:focus{outline:none;border-color:#0e639c;}.x{background:#28a745;color:white;border:none;padding:10px 20px;border-radius:4px;cursor:pointer;font-size:14px;transition:background 0.3s;}.x:hover{background:#218838;}.x:disabled{background:#555;cursor:not-allowed;}.y{font-size:0.8em;color:#6a6a6a;}.b{color:white;text-decoration:none;font-size:1.1em;opacity:0.9;transition:all 0.3s;background:rgba(255,255,255,0.2);padding:8px 12px;border-radius:8px;font-weight:bold;margin-top:5px;display:inline-block;}.b:hover{opacity:1;background:rgba(255,255,255,0.3);transform:scale(1.05);}@media (max-width:768px){body{padding-bottom:50px;}.f{flex-direction:column;gap:10px;align-items:stretch;}.b{font-size:1em;padding:6px 10px;border-radius:6px;background:rgba(255,255,255,0.2);}.e{height:50px;padding:10px 15px;font-size:0.8em;}.g{justify-content:center;}.v{flex-direction:column;}}</style></head><body><div class="a"><a href="/" class="b">üè† Home</a><a href="https://diyables.io/webapps-r4" class="c" target="_blank">üìö Tutorial</a></div><div class="d" id="websocketStatus">WebSocket: <span id="connectionText">Disconnected</span></div><div class="f"><div><h1>üìä Web Monitor</h1><p>Monitor and send messages to your Arduino</p></div><div class="g"><span class="y">Messages: <span id="messageCount">0</span></span><button class="h i" onclick="F()">Clear</button></div></div><div class="m"><div class="n"><div id="output" class="o"></div><div class="v"><input type="text" id="messageInput" class="w"placeholder="Type a message to send to Arduino..."onkeypress="handleKeyPress(event)"><button id="sendBtn" class="x" onclick="D()" disabled>Send</button></div></div></div><script>let G=null;let H=0;let I=false;const J=document.getElementById('output');const K=document.getElementById('messageInput');const L=document.getElementById('sendBtn');const M=document.getElementById('connectionText');const N=document.getElementById('websocketStatus');const O=document.getElementById('messageCount');console.log('Web Monitor script loaded');function A(){console.log('Connect function called');if(G&&(G.readyState===WebSocket.OPEN||G.readyState===WebSocket.CONNECTING)){return;}const P='ws://'+window.location.hostname+':81';C('Connecting to '+window.location.hostname+'...','info');G=new WebSocket(P);G.onopen=function(){I=true;B('connected');C('Connected to Arduino Web Monitor!','success');L.disabled=false;};G.onmessage=function(V){C(V.data,'info');console.log('Received from Arduino:',V.data);};G.onclose=function(V){I=false;B('disconnected');C('Disconnected from Arduino','warning');L.disabled=true;if(V.code!==1000){setTimeout(A,5000);}};G.onerror=function(error){C('WebSocket error occurred','error');console.error('WebSocket error:',error);};}function B(Q){const M=document.getElementById('connectionText');M.textContent=Q;console.log('WebSocket '+Q);if(Q=='connected')M.style.color='#007bff';else if(Q=='connecting')M.style.color='#6c757d';else M.style.color='#dc3545';}function C(R,S){if(!S) S="";const T=new Date().toLocaleTimeString();const U=document.createElement('div');U.className='p'+S;U.innerHTML='<span class="u">['+T+']</span>'+R;J.appendChild(U);J.scrollTop=J.scrollHeight;H++;O.textContent=H;}function D(){const R=K.value.trim();if(R&&G&&G.readyState===WebSocket.OPEN){G.send("MONITOR:"+R);C('>'+R,"");K.value="";console.log('Sent to Arduino:',R);}}function E(V){if(V.key==='Enter'){D();}}function F(){console.log('Clear output function called');J.innerHTML="";H=0;O.textContent=H;C('Output cleared','info');}window.addEventListener('load',function(){window.A=A;window.F=F;console.log('Functions made global:',typeof window.A,typeof window.F);setTimeout(A,500);});document.addEventListener('visibilitychange',function(){if(!document.hidden&&(!G||G.readyState!==WebSocket.OPEN)){setTimeout(A,1000);}});</script><div class="e">Created by&nbsp;<a href="https://diyables.io/" target="_blank">DIYables</a></div></body></html>)HTMLDELIM";

#endif
