#ifndef WEB_TABLE_HTML_H
#define WEB_TABLE_HTML_H

const char WEB_TABLE_HTML[] PROGMEM = R"HTMLDELIM(<!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Remote Data Table - DIYables WebApp</title><link rel="icon" href="https://diyables.io/images/page/diyables.svg"><style>*{margin:0;padding:0;box-sizing:border-box;}body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;background:white;height:100vh;margin:0;padding:0 0 40px 0;display:flex;flex-direction:column;box-sizing:border-box;}.a{width:100%;flex:1;margin:0 auto;max-width:1200px;background:white;border-radius:0;box-shadow:none;display:flex;flex-direction:column;}.b{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:white;padding:25px;text-align:center;position:relative;}.b h1{font-size:2.0em;margin-bottom:5px;}.b p{font-size:1.0em;opacity:0.9;}.c{background:#f8f9fa;padding:10px 20px;border-bottom:1px solid #e9ecef;display:flex;justify-content:space-between;align-items:center;}.d{color:#667eea;text-decoration:none;font-size:1.1em;font-weight:bold;transition:all 0.3s;padding:8px 12px;border-radius:6px;background:rgba(102,126,234,0.1);}.d:hover{background:rgba(102,126,234,0.2);transform:scale(1.05);}.e{color:#007bff;text-decoration:none;font-size:1.0em;font-weight:bold;transition:all 0.3s;padding:8px 12px;border-radius:6px;background:rgba(0,123,255,0.1);}.e:hover{background:rgba(0,123,255,0.2);transform:scale(1.05);}.f{background:#f8f9fa;padding:5px 20px;border-bottom:1px solid #e9ecef;text-align:center;font-size:0.9em;color:black;}.f #connectionText{font-weight:bold;}.g{padding:20px;margin-bottom:30px;display:flex;flex-direction:column;align-items:center;gap:20px;}.h{width:100%;max-width:900px;margin:0 auto;background:white;box-shadow:0 15px 35px rgba(0,0,0,0.1),0 5px 15px rgba(0,0,0,0.07);overflow:hidden;border:2px solid rgba(102,126,234,0.1);}.i{width:100%;border-collapse:collapse;font-size:1.0em;background:linear-gradient(145deg,#ffffff 0%,#f8f9ff 100%);}.i thead{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:white;}.i th{padding:25px 20px;text-align:left;font-weight:700;font-size:1.2em;text-transform:uppercase;letter-spacing:2px;text-shadow:0 2px 4px rgba(0,0,0,0.2);position:relative;}.i th:first-child{text-align:right;width:40%;}.i th:last-child{text-align:left;}.i th::after{content:'';position:absolute;bottom:0;left:0;right:0;height:3px;background:linear-gradient(90deg,transparent 0%,rgba(255,255,255,0.3) 50%,transparent 100%);}.i tbody tr{transition:all 0.3s ease;border-bottom:1px solid rgba(102,126,234,0.1);}.i tbody tr:hover{background:linear-gradient(135deg,#f0f4ff 0%,#e8f2ff 100%);transform:scale(1.01);box-shadow:inset 0 0 20px rgba(102,126,234,0.1);}.i tbody tr:nth-child(even){background:linear-gradient(135deg,#fafbff 0%,#f5f7ff 100%);}.i tbody tr:nth-child(even):hover{background:linear-gradient(135deg,#f0f4ff 0%,#e8f2ff 100%);}.i td{padding:20px;vertical-align:middle;border-bottom:1px solid rgba(102,126,234,0.08);}.i td.j{font-weight:700;color:#4a5568;background:linear-gradient(135deg,#f8f9ff 0%,#f0f4ff 100%);width:40%;font-size:1.05em;border-right:3px solid rgba(102,126,234,0.2);text-shadow:0 1px 2px rgba(0,0,0,0.05);text-align:right;}.i td.k{font-family:'Courier New',monospace;color:#dc3545;font-size:1.1em;font-weight:600;text-shadow:0 1px 2px rgba(220,53,69,0.2);text-align:left;}.l{animation:highlight 1.5s ease-out;border-left:3px solid #dc3545;background-color:rgba(220,53,69,0.1);transition:all 0.3s ease;}.m{animation:highlight-light 1s ease-out;border-left:3px solid #667eea;background-color:rgba(102,126,234,0.1);transition:all 0.3s ease;}@keyframes highlight{0%{border-left-color:#dc3545;background-color:rgba(220,53,69,0.1);}50%{border-left-color:#f56565;background-color:rgba(220,53,69,0.2);}100%{border-left-color:#dc3545;background-color:rgba(220,53,69,0.1);}}@keyframes highlight-light{0%{border-left-color:#667eea;background-color:rgba(102,126,234,0.1);}50%{border-left-color:#4f46e5;background-color:rgba(102,126,234,0.2);}100%{border-left-color:#667eea;background-color:rgba(102,126,234,0.1);}}.n{text-align:center;padding:60px 20px;color:#666;}.n h3{font-size:1.5em;margin-bottom:10px;color:#888;}.n p{font-size:1.1em;line-height:1.6;}.o{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:white;text-align:center;padding:15px 20px;width:100%;font-size:0.9em;border-top:1px solid rgba(255,255,255,0.1);position:fixed;bottom:0;left:0;z-index:1000;height:40px;box-sizing:border-box;display:flex;align-items:center;justify-content:center;}.o a{color:white;text-decoration:none;font-weight:bold;transition:all 0.3s ease;}.o a:hover{color:rgba(255,255,255,0.8);text-decoration:underline;}@media (max-width:768px){body{padding-bottom:80px;}.b h1{font-size:2em;}.i{font-size:1em;}.i th{padding:15px 10px;font-size:1.1em;}.i td{padding:12px 10px;}.i td.j{width:45%;}.o{height:50px;padding:10px 15px;font-size:0.8em;}}@media (max-width:480px){.b h1{font-size:1.8em;}.i{font-size:0.95em;}.i th{padding:12px 8px;font-size:1em;}.i td{padding:10px 8px;}}</style></head><body><div class="a"><div class="c"><a href="/" class="d">üè† Home</a><a href="https://diyables.io/webapps-r4" target="_blank" class="e">üìö Tutorial</a></div><div class="f" id="websocketStatus">WebSocket: <span id="connectionText">Disconnected</span></div><div class="b"><h1>üìä Remote Data Table</h1><p>Real-time data monitoring with dynamic value updates</p></div><div class="g"><div class="h"><table class="i" id="dataTable"><thead><tr><th>Attribute</th><th>Value</th></tr></thead><tbody id="tableBody"><tr><td colspan="2" class="n"><h3>No Data Available</h3><p>Waiting for data from Arduino...</p></td></tr></tbody></table></div></div></div><script>let B;let C=false;let D=[];const E=new Map();const F=new Map();function q(){const G=window.location.protocol==='https:'?'wss:':'ws:';const H=':81';const I=G+'//'+window.location.hostname+H+'/ws';B=new WebSocket(I);B.onopen=function(event){C=true;r('connected');s();z();};B.onmessage=function(event){console.log('WebSocket message received:',event.data);t(event.data);};B.onclose=function(event){C=false;r('disconnected');setTimeout(q,3000);};B.onerror=function(error){console.error('WebSocket error:',error);C=false;r('disconnected');};}function r(J){const K=document.getElementById('connectionText');K.textContent=J;console.log('WebSocket '+J);if(J=='connected')K.style.color='#007bff';else if(J=='connecting')K.style.color='#6c757d';else K.style.color='#dc3545';}function s(){if(!C||B.readyState!==WebSocket.OPEN){return;}B.send('TABLE:GET_CONFIG');}function t(L){if(L.startsWith('TABLE_CONFIG:')){const M=L.substring(13);u(M);}else if(L.startsWith('TABLE_DATA:')){const N=L.substring(11);v(N);}else if(L.startsWith('VALUE_UPDATE:')){const O=L.substring(13);const P=O.indexOf(':');if(P>0){const Q=O.substring(0,P);const R=O.substring(P+1);w(Q,R);}}}function u(M){try{const S=JSON.parse(M);D=[];E.clear();F.clear();for(const T of S){D.push({attribute:T,value:'Loading...'});}y();}catch(e){console.error('Error parsing table config:',e);}}function v(N){D=[];if(N&&N.length>0){const U=N.split('|');for(const V of U){const P=V.indexOf(':');if(P>0){const Q=V.substring(0,P);const R=V.substring(P+1);D.push({attribute:Q,value:R});}}}y();}function w(Q,R){const W=E.get(Q);const X=W!==undefined&&W!==R;console.log(`Update:${Q}="${R}"(was:"${W}")->${X?'CHANGED':'SAME'}`);E.set(Q,R);F.set(Q,(F.get(Q)||0)+1);for(let i=0;i<D.length;i++){if(D[i].attribute===Q){D[i].value=R;break;}}x(Q,R,X,W);}function x(Q,R,X,W){const U=document.querySelectorAll('#tableBody tr');for(const V of U){const Y=V.querySelector('.j');if(Y&&Y.textContent===Q){const Z=V.querySelector('.k');if(Z){if(Z._highlightTimeout){clearTimeout(Z._highlightTimeout);Z._highlightTimeout=null;}Z.textContent=R;Z.classList.remove('l','value-highlight-light');void Z.offsetWidth;if(X){Z.classList.add('l');Z._highlightTimeout=setTimeout(()=>{Z.classList.remove('l');Z._highlightTimeout=null;},1500);}else if(W!==undefined){Z.classList.add('m');Z._highlightTimeout=setTimeout(()=>{Z.classList.remove('m');Z._highlightTimeout=null;},1000);}}break;}}}function y(){const a0=document.getElementById('tableBody');if(D.length===0){a0.innerHTML=`<a1><td colspan="2" class="n"><h3>No Data Available</h3><p>Waiting for data from Arduino...</p></td></a1>`;}else{a0.innerHTML='';for(const V of D){const a1=document.createElement('tr');a1.innerHTML=`<td class="j">${A(V.attribute)}</td><td class="k">${A(V.value)}</td>`;a0.appendChild(a1);}}}function z(){if(!C||B.readyState!==WebSocket.OPEN){alert('Not connected to Arduino');return;}B.send('TABLE:GET_DATA');}function A(a2){const a3=document.createElement('div');a3.textContent=a2;return a3.innerHTML;}document.addEventListener('DOMContentLoaded',function(){q();r('disconnected');});</script><div class="o">Created by&nbsp;<a href="https://diyables.io/" target="_blank">DIYables</a></a3></body></html>)HTMLDELIM";

#endif
