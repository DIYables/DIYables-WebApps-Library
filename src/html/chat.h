#ifndef CHAT_HTML_H
#define CHAT_HTML_H

const char CHAT_HTML[] PROGMEM = R"HTMLDELIM(<!DOCTYPE html><html><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Chat - DIYables WebApp</title><link rel="icon" href="https://diyables.io/images/page/diyables.svg"><style>:root{--safe-area-inset-top:env(safe-area-inset-top);--safe-area-inset-bottom:env(safe-area-inset-bottom);--safe-area-inset-left:env(safe-area-inset-left);.a{padding:12px;padding-bottom:max(20px,calc(env(safe-area-inset-bottom)+8px));gap:8px;position:fixed;bottom:50px;left:0;right:0;background:white;border-top:1px solid #dee2e6;z-index:1001;min-height:60px;box-sizing:border-box;box-shadow:0 -2px 10px rgba(0,0,0,0.1);}inset-right:env(safe-area-inset-right);}*{margin:0;padding:0;box-sizing:border-box;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;}html{overscroll-behavior:none;-webkit-overflow-scrolling:touch;}body{font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif;background:white;height:100vh;margin:0;padding:0 0 40px 0;overscroll-behavior-y:contain;display:flex;flex-direction:column;}.b{background:white;border-radius:0;box-shadow:none;width:100%;max-width:1200px;margin:0 auto;flex:1;display:flex;flex-direction:column;overflow:hidden;position:relative;}.c{background:linear-gradient(135deg,#43e97b 0%,#38f9d7 100%);color:white;padding:20px;text-align:center;position:relative;flex-shrink:0;}.c h1{font-size:2.0em;margin-bottom:5px;}.c p{font-size:1.0em;opacity:0.9;}.d{position:absolute;top:50%;right:20px;transform:translateY(-50%);width:12px;height:12px;border-radius:50%;background:#dc3545;transition:background 0.3s;}.d.e{background:#28a745;box-shadow:0 0 10px rgba(40,167,69,0.5);}.f{background:#f8f9fa;padding:10px 20px;border-bottom:1px solid #e9ecef;flex-shrink:0;display:flex;justify-content:space-between;align-items:center;}.g{color:#43e97b;text-decoration:none;font-size:1.1em;font-weight:bold;transition:all 0.3s;padding:8px 12px;border-radius:6px;background:rgba(67,233,123,0.1);}.g:hover{background:rgba(67,233,123,0.2);transform:scale(1.05);}.h{color:#007bff;text-decoration:none;font-size:1.0em;font-weight:bold;transition:all 0.3s;padding:8px 12px;border-radius:6px;background:rgba(0,123,255,0.1);}.h:hover{background:rgba(0,123,255,0.2);transform:scale(1.05);}.i{background:#f8f9fa;padding:5px 20px;border-bottom:1px solid #e9ecef;flex-shrink:0;text-align:center;font-size:0.9em;color:black;}.i #connectionStatus{font-weight:bold;}.j{background:linear-gradient(135deg,#43e97b 0%,#38f9d7 100%);color:white;text-align:center;padding:15px 20px;width:100%;font-size:0.9em;border-top:1px solid rgba(255,255,255,0.1);position:fixed;bottom:0;left:0;z-index:1000;height:40px;box-sizing:border-box;display:flex;align-items:center;justify-content:center;}.j a{color:white;text-decoration:none;font-weight:bold;transition:all 0.3s ease;}.j a:hover{color:rgba(255,255,255,0.8);text-decoration:underline;}.k{flex:1;padding:20px;padding-bottom:120px;overflow-y:auto;background:#f8f9fa;-webkit-overflow-scrolling:touch;overscroll-behavior:contain;scroll-behavior:smooth;}.k::-webkit-scrollbar{width:6px;}.k::-webkit-scrollbar-track{background:#f1f1f1;}.k::-webkit-scrollbar-thumb{background:#ccc;border-radius:3px;}.l{margin-bottom:15px;animation:fadeIn 0.3s ease-in;}@keyframes fadeIn{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.l.m{text-align:right;}.l.n{text-align:left;}.l.o{text-align:center;}.p{display:inline-block;max-width:80%;padding:12px 16px;border-radius:18px;word-wrap:break-word;position:relative;}.l.m .p{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:white;}.l.n .p{background:#e9ecef;color:#333;border:1px solid #dee2e6;}.l.o .p{background:#fff3cd;color:#856404;border:1px solid #ffeaa7;font-size:0.9em;}.q{font-size:0.75em;opacity:0.7;margin-top:5px;}.l.m .q{text-align:right;}.l.n .q{text-align:left;}.l.o .q{text-align:center;}.a{background:white;padding:20px;border-top:1px solid #dee2e6;display:flex;gap:10px;align-items:center;flex-shrink:0;position:relative;z-index:10;}@media (min-width:769px){.a{position:relative;bottom:auto;}.k{padding-bottom:20px;}}.r{flex:1;border:2px solid #e9ecef;border-radius:25px;padding:12px 20px;font-size:16px;outline:none;transition:border-color 0.3s;-webkit-appearance:none;appearance:none;-webkit-border-radius:25px;background-clip:padding-box;}.r:focus{border-color:#667eea;}@supports (-webkit-touch-callout:none){.r{font-size:16px;transform:translateZ(0);}}.s{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:white;border:none;border-radius:50%;width:50px;height:50px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:transform 0.2s,box-shadow 0.2s;-webkit-tap-highlight-color:transparent;position:relative;overflow:hidden;}.s:hover{transform:scale(1.05);box-shadow:0 5px 15px rgba(102,126,234,0.4);}.s:active{transform:scale(0.95);}.s:focus{outline:2px solid #667eea;outline-offset:2px;}.s:disabled{background:#ccc;cursor:not-allowed;transform:none;box-shadow:none;}.t{display:none;margin-bottom:15px;text-align:left;}.u{display:inline-block;background:#e9ecef;border:1px solid #dee2e6;padding:12px 16px;border-radius:18px;color:#666;font-style:italic;}@media (max-width:768px){body{margin:0;padding:0 0 90px 0;align-items:stretch;}.b{width:100%;height:calc(100vh - 90px);max-height:none;border-radius:0;box-shadow:none;}.c{padding:15px 20px;padding-top:max(15px,env(safe-area-inset-top));}.j{height:50px;padding:10px 15px;font-size:0.8em;}.c h1{font-size:1.3em;margin-bottom:3px;}.c p{font-size:0.8em;}.v{padding:8px 15px;}.g{font-size:1em;padding:6px 10px;}.d{right:15px;width:10px;height:10px;}.k{padding:15px;padding-bottom:110px;}.l{margin-bottom:12px;}.p{max-width:85%;padding:10px 14px;font-size:0.95em;line-height:1.4;}.t{margin:0 15px 10px;}.u{padding:10px 14px;font-size:0.9em;}.a{padding:15px;padding-bottom:max(25px,calc(env(safe-area-inset-bottom)+10px));gap:12px;position:fixed;bottom:50px;left:0;right:0;background:white;border-top:1px solid #dee2e6;z-index:1001;box-shadow:0 -2px 10px rgba(0,0,0,0.1);}.r{font-size:16px;padding:14px 18px;border-radius:22px;min-height:44px;}.s{width:44px;height:44px;flex-shrink:0;}}@media (max-width:480px){.c{padding:12px 15px;padding-top:max(12px,env(safe-area-inset-top));}.c h1{font-size:1.2em;}.v{padding:6px 12px;}.g{font-size:0.9em;padding:5px 8px;}.d{right:10px;}.k{padding:12px;padding-bottom:110px;}.p{max-width:88%;padding:9px 13px;font-size:0.9em;}.a{padding:12px;padding-bottom:max(20px,calc(env(safe-area-inset-bottom)+8px));gap:10px;position:fixed;bottom:0;left:0;right:0;background:white;border-top:1px solid #dee2e6;z-index:100;}.r{padding:12px 16px;border-radius:20px;font-size:16px;}.s{width:40px;height:40px;}}@media (max-width:360px){.c h1{font-size:1.1em;}.c p{font-size:0.75em;}.p{padding:8px 12px;font-size:0.85em;}}</style></head><body><div class="b"><div class="f"><a href="/" class="g">üè† Home</a><a href="https://diyables.io/webapps-r4" class="h" target="_blank">üìö Tutorial</a></div><div class="i" id="websocketStatus">WebSocket: <span id="connectionStatus">Disconnected</span></div><div class="c"><h1>üí¨ Arduino Chat</h1><p>Chat with your Arduino via WebSocket</p></div><div class="k" id="chatMessages"><div class="l o"><div class="p">Welcome to Arduino Chat! Start a conversation with your Arduino board.</div><div class="q" id="welcomeTime"></div></div></div><div class="t" id="typingIndicator"><div class="u">Arduino is thinking...</div></div><div class="a"><input type="text" class="r" id="messageInput"placeholder="Type your message..."onkeypress="handleKeyPress(event)"><button class="s" id="sendButton" onclick="F()" disabled><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M2,21L23,12L2,3V10L17,12L2,14V21Z"/></svg></button></div></div><script>let K=null;let L=false;const M=document.getElementById('chatMessages');const N=document.getElementById('messageInput');const O=document.getElementById('sendButton');const P=document.getElementById('typingIndicator');const Q=document.getElementById('welcomeTime');Q.textContent=new Date().toLocaleTimeString();function x(){if(K&&K.readyState===WebSocket.OPEN){return;}const R='ws://'+window.location.hostname+':81';C('Connecting to '+window.location.hostname+'...');K=new WebSocket(R);K.onopen=function(){L=true;y('connected');C('Connected to Arduino!You can now start chatting.');O.disabled=false;};K.onmessage=function(a0){E();B(a0.data);console.log('Received from Arduino:',a0.data);};K.onclose=function(){L=false;y('disconnected');C('Connection lost. Attempting to reconnect...');O.disabled=true;setTimeout(x,3000);};K.onerror=function(error){E();C('Connection error occurred');console.error('WebSocket error:',error);};}function y(S){const T=document.getElementById('connectionStatus');T.textContent=S;console.log('WebSocket '+S);if(S=='connected')T.style.color='#007bff';else if(S=='connecting')T.style.color='#6c757d';else T.style.color='#dc3545';}function z(U,V,W){const X=document.createElement('div');X.className='l'+V;const Y=W||new Date().toLocaleTimeString();X.innerHTML='<div class="p">'+U+'</div>'+'<div class="q">'+Y+'</div>';M.appendChild(X);setTimeout(()=>{if(typeof I==='function'){I();}else{M.scrollTop=M.scrollHeight;}},50);}function A(U){z(U,'user');}function B(U){z(U,'arduino');}function C(U){z(U,'system');}function D(){P.style.display='block';setTimeout(()=>{if(typeof I==='function'){I();}else{M.scrollTop=M.scrollHeight;}},50);}function E(){P.style.display='none';}function F(){const Z=N.value.trim();if(Z&&K&&K.readyState===WebSocket.OPEN){A(Z);K.send("CHAT:"+Z);console.log('Sent to Arduino:',Z);N.value="";D();setTimeout(E,5000);}}function G(a0){if(a0.key==='Enter'){F();}}window.addEventListener('load',function(){setTimeout(x,500);});document.addEventListener('visibilitychange',function(){if(!document.hidden&&(!K||K.readyState!==WebSocket.OPEN)){setTimeout(x,1000);}});N.addEventListener('input',function(){O.disabled=!N.value.trim()||!L;});function H(){return window.innerWidth<=768||/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);}if(H()){N.addEventListener('touchstart',function(){document.querySelector('meta[name=viewport]').setAttribute('content','width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no');});N.addEventListener('blur',function(){document.querySelector('meta[name=viewport]').setAttribute('content','width=device-width,initial-scale=1.0');});}function I(){if(H()){M.scrollTo({top:M.scrollHeight,behavior:'smooth'});}else{M.scrollTop=M.scrollHeight;}}if(H()){let a1=window.visualViewport?window.visualViewport.height:window.innerHeight;function J(){if(window.visualViewport){const a2=window.visualViewport.height;const a3=a1-a2;if(a3>150){document.body.style.height=a2+'px';setTimeout(I,100);}else{document.body.style.height='100vh';}}}if(window.visualViewport){window.visualViewport.addEventListener('resize',J);}window.addEventListener('resize',function(){setTimeout(I,100);});}if(H()){let a4=0;let a5=0;M.addEventListener('touchstart',function(e){a4=e.touches[0].clientY;a5=M.scrollTop;},{passive:true});}</script><div class="j">Created by&nbsp;<a href="https://diyables.io/" target="_blank">DIYables</a></div></body></html>)HTMLDELIM";

#endif
